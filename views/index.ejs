<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>It's a page</title>
    <link rel="stylesheet" href="css/style.css"> 
</head>
<body>
    <nav>
        <h1>Naginata</h1>
        <h2>Unsorted notes</h2>
        <ul>
            <li><button data-action="do-something" value="add">Add</button></li>
            <li><button data-action="do-something" value="update">Update</button></li>
            <li><button data-action="do-something" value="delete">Delete</button></li>
        </ul>
    </nav>
    <section class="wrapper">
        <section class="data-updates">
            <form data-action-type="add" class="hidden" action="/addPic" method="POST">
                <h3>Add entry</h3>
                <input type="text" placeholder="Enter passcode" name="passcode">
                <input type="text" placeholder="Enter title" name="title">
                <input type="text" placeholder="Add img url" name="imgURL">
                <input type="text" placeholder="Non-image source url" name="vidURL">
                <input type="text" placeholder="caption" name="caption">
                <button type="submit">Submit</button>
            </form>
            <section data-action-type="update" class="hidden wrapper update">
                <h3>Update an entry</h3>
                <p>You can only update one field at a time. Select by exact title match.</p>
                <input type="text" placeholder="Title to update" name="titleChange">
                <label for="field">Field to update</label>
                <select id="field" name="field">
                    <option value="Choose field" selected>Choose field</option>
                    <option value="Title">Title</option>
                    <option value="Asset URL">Asset URL</option>
                    <!-- <option value="Video URL">Video URL</option> -->
                    <option value="Caption">Caption</option>
                </select>
                <input type="text" placeholder="New input" name="edit">
                <label class='hidden' data-type="asset-label" for="video">If URL, is it something other than an image?<input type="checkbox" id="video" name="video" value='video'></label>
                <button data-action="update">Update this entry</button>
            </section>
            <section data-action-type="delete" class="hidden delete-things">
                <h3>Delete an entry</h3>
                <input type="text" placeholder="Title to delete" name="titleBye">
                <button data-action="delete">Delete this entry</button>
            </section>
        </section>

        <section class="results">
            <!-- <ul class="wrapper"> -->
                <% for (let i=0; i<stuff.length; i++) { %>
                <div>
                    <h3><%= stuff[i].title %></h3>
                    <img src="<%= stuff[i].imgURL %>" alt="<%=stuff.caption%>"> <!--do I need closing /?-->

                    <% if (stuff[i].vidURL !== '' && stuff[i].vidURL !== undefined) { %>
                        <a data-type="vid" href="<%= stuff[i].vidURL %>" target=_blank ><span>Source URL</span></a>
                    <% }%>
                    <!-- <iframe class="hidden" width="20rem" height="auto" src="<%= stuff[i].vidURL %>"></iframe> -->
                    <figcaption><%= stuff[i].caption %></figcaption>
                </div>
                <% }%>
            </ul>
        </section>
        
    </section>
    <script type="text/javascript" src="js/main.js"></script>
</body>
</html>